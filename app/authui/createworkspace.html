<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Create A New Workspace</title>
        <link rel="icon" type="image/svg+xml" href="data:image/svg+xml, %3Csvg width='21' height='21' viewBox='0 0 21 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 5.25C10.5 2.35051 12.8505 0 15.75 0V0C18.6495 0 21 2.35051 21 5.25V10.5H15.75C12.8505 10.5 10.5 8.14949 10.5 5.25V5.25Z' fill='%23666666'/%3E%3Cpath d='M0 5.25C0 2.35051 2.35051 0 5.25 0V0C8.14949 0 10.5 2.35051 10.5 5.25V5.25C10.5 8.14949 8.14949 10.5 5.25 10.5H0V5.25Z' fill='%23666666'/%3E%3Cpath d='M10.5 15.75C10.5 12.8505 12.8505 10.5 15.75 10.5H21V15.75C21 18.6495 18.6495 21 15.75 21V21C12.8505 21 10.5 18.6495 10.5 15.75V15.75Z' fill='%23666666'/%3E%3Cpath d='M0 10.5H5.25C8.14949 10.5 10.5 12.8505 10.5 15.75V15.75C10.5 18.6495 8.14949 21 5.25 21V21C2.35051 21 0 18.6495 0 15.75V10.5Z' fill='%23666666'/%3E%3C/svg%3E%0A">

        <!-- CSS -->
        <link rel="stylesheet" href="styles.css"/>
        <link rel="stylesheet" href="/tooltip.css"/>
        <script src="auth-ui-client.js" type="module"></script>
    </head>

    <body>
        <div class="icon-arrow-left back-btn" id="back-btn" onclick="window.location.href = window.location.origin + '/client/'"></div>

        <div class="authboxholder" name="authboxholder">
            <img src="/ClatterMonotoneLogo.svg" id="loginlogo" />
            <div class="authboxtext">
                Create <span style="font-weight: 600;">Your</span> Workspace
            </div>
            <div class="authbox" name="authbox">
                <input type="url" class="auth-input" id="imgurl" placeholder="Image URL">
                
                <input type="text" class="auth-input" maxlength="35" id="name" placeholder="Workspace Name">
                <input type="text" class="auth-input" id="slug" placeholder="Slug">
            </div>

            <div class="signin-button-area">
                <div class="signin-button-secondary" style="margin-top: 0px; width: 100%;" onclick="createworkspace()">
                    Create Workspace
                </div>
            </div>
        </div>

        <footer>
            <p class="footer-link" style="line-height: 1.5rem; font-size: 0.8rem; position: relative;">
                Your User ID:
                <br>
                <span id="userid" onclick="toggleUserId()" style="cursor: pointer; -webkit-user-select: none; -ms-user-select: none; user-select: none; font-size: 0.9rem;"></span>
            </p>
        </footer>

        <script>
            var toggledUserId = false; // default state
            var userIdElem = document.getElementById("userid");

            var pagefunction = function() {
                authClient.getSession()
                    .then(res => {
                        authsession = res
                        userIdElem.innerText = "●".repeat(res.data.user.id.length);
                    })
            }
            
            var toggleUserId = function() {
                if (toggledUserId) { // hide user id
                    userIdElem.innerText = "●".repeat(authsession.data.user.id.length);
                    toggledUserId = false;
                } else { // show user id
                    userIdElem.innerText = authsession.data.user.id;
                    toggledUserId = true;
                }
            }
        </script>
    </body>
</html>