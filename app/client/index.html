<html>
    <head>
        <link rel="stylesheet" href="/client/global/styles.css" />
        <link href="/client/global/lucide-font/lucide.css" rel="stylesheet" />
        <script src="/client/global/jquery.js"></script>
        <script>
            var collapsesidebargroup = function(obj) {
                if ($(obj).closest(".sidebar-listarea").find(".sidebar-listarea-inner").is(":visible")) {
                    $(obj).closest(".sidebar-listarea").find(".sidebar-listarea-inner").hide()
                    $(obj).removeClass("icon-chevron-down")
                    $(obj).addClass("icon-chevron-right")
                } else {
                    $(obj).closest(".sidebar-listarea").find(".sidebar-listarea-inner").show()
                    $(obj).removeClass("icon-chevron-right")
                    $(obj).addClass("icon-chevron-down")
                }
            }

            var switchworkspace = function(obj) {
                $("#workspaceswitcher").find(".workspaceswitcheritem").toArray().forEach(element => {
                    $(element).removeAttr("selected")
                });
                $(obj).closest(".workspaceswitcheritem").attr("selected", "selected")
            }
        </script>
    </head>
    <body>
        <header>
            <div class="searchbox"></div>
            <div id="user-button" style="margin-right: 10px;"></div>
        </header>
        <div id="apparea">
            <div id="workspaceswitcher">
                <div class="workspaceswitcheritem" onclick="switchworkspace(this)" selected="selected">
                    <img class="workspaceswitcheriteminner" src="/wsicon.png"></img>
                </div>
                <div class="workspaceswitcheritem" onclick="switchworkspace(this)">
                    <img class="workspaceswitcheriteminner" src="/wsicon.png"></img>
                </div>
                <div class="workspaceswitcheritem" onclick="switchworkspace(this)">
                    <img class="workspaceswitcheriteminner" src="/wsicon.png"></img>
                </div>
                <div class="workspaceswitcheradd">
                    <div class="icon-plus workspaceswitcheradd-icon"></div>
                </div>
            </div>
            <div id="shellsidebar">
                <div class="sidebar-wsinfoarea">
                    <div class="sidebar-wsinfoarea-stack">
                        <div id="sidebar-wsinfo-name">
                            Workspace Name
                        </div>
                        <div id="sidebar-wsinfo-sub">
                            Workspace.clatter.online
                        </div>
                    </div>
                </div>
                <div class="sidebar-listarea">
                    <div class="sidebar-listitem">
                        <div class="icon-bell sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">Notifications</div>
                    </div>
                    <div class="sidebar-listitem">
                        <div class="icon-at-sign sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">Mentions</div>
                    </div>
                    <div class="sidebar-listitem">
                        <div class="icon-book-user sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">Directory</div>
                    </div>
                    <div class="sidebar-listitem">
                        <div class="icon-grip sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">Apps</div>
                    </div>
                    <div class="sidebar-listitem">
                        <div class="icon-hash sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">All Channels</div>
                    </div>
                    <div class="sidebar-listitem">
                        <div class="icon-handshake sidebar-listitem-icon"></div>
                        <div class="sidebar-listitem-text">External Cnnections</div>
                    </div>
                </div>
                <div class="sidebar-listarea">
                    <div class="sidebar-listarea-titlearea">
                        <div class="sidebar-listarea-titletext">Channels</div>
                        <div class="icon-chevron-down sidebar-listarea-titlecollapse" onclick="collapsesidebargroup(this)"></div>
                    </div>
                    <div class="sidebar-listarea-inner">
                        <div class="sidebar-listitem">
                            <div class="icon-hash sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">General</div>
                        </div>
                        <div class="sidebar-listitem">
                            <div class="icon-hash sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">Channel-2</div>
                        </div>
                        <div class="sidebar-listitem">
                            <div class="icon-handshake sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">External-Channel</div>
                        </div>
                    </div>
                </div>
                <div class="sidebar-listarea">
                    <div class="sidebar-listarea-titlearea">
                        <div class="sidebar-listarea-titletext">Direct Messages</div>
                        <div class="icon-chevron-down sidebar-listarea-titlecollapse" onclick="collapsesidebargroup(this)"></div>
                    </div>
                    <div class="sidebar-listarea-inner">
                        <div class="sidebar-listitem">
                            <div class="icon-user sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">User 1</div>
                        </div>
                        <div class="sidebar-listitem">
                            <div class="icon-user sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">User 2</div>
                        </div>
                        <div class="sidebar-listitem">
                            <div class="icon-users sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">Group 1</div>
                        </div>
                    </div>
                </div>
                <div class="sidebar-listarea">
                    <div class="sidebar-listarea-titlearea">
                        <div class="sidebar-listarea-titletext">Threads</div>
                        <div class="icon-chevron-down sidebar-listarea-titlecollapse" onclick="collapsesidebargroup(this)"></div>
                    </div>
                    <div class="sidebar-listarea-inner">
                        <div class="sidebar-listitem">
                            <div class="icon-message-square sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">Thread 1</div>
                        </div>
                        <div class="sidebar-listitem">
                            <div class="icon-message-square sidebar-listitem-icon"></div>
                            <div class="sidebar-listitem-text">Thread 2</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mainarea">
                <div class="mainarea-header">
                    <div class="sidebar-wsinfoarea-stack">
                        <div id="mainarea-header-title">
                            #Channel-name
                        </div>
                        <div id="mainarea-header-sub">
                            5 Members, 2 External Members
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            loadfunction = function() {
                authClient.organization.list()
                .then(res => {
                    $("#workspaceswitcher").html("")
                    res.data.forEach(item => {
                        $("#workspaceswitcher").append(`
                            <div class="workspaceswitcheritem" onclick="switchworkspace(this)">
                                <img class="workspaceswitcheriteminner" src="` + item.logo + `"></img>
                            </div>
                        `)
                    })
                    switchworkspace($("#workspaceswitcher").children()[0])
                })
            }
        </script>
        <script src="/auth-frontend.js" type="module"></script>
    </body>
</html>